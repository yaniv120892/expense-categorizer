# Expense Categorization API

## ğŸ“Œ Overview
This project is a **machine learning-based API** that automatically categorizes expense descriptions into predefined categories. It uses **TF-IDF + Logistic Regression** for text classification and supports **Hebrew to English translation** for better accuracy.

---

## ğŸš€ Features
âœ… **Classifies expenses** based on descriptions.  
âœ… **Supports Hebrew and English input** (translates Hebrew to English before prediction).  
âœ… **REST API built with FastAPI**.  
âœ… **Machine learning model trained on expense data**.  
âœ… **Logs every request and prediction**.  
âœ… **Health check endpoint (`/ping`)**.  

---

### 1 Set Up a Virtual Environment**
```bash
python -m venv venv
source venv/bin/activate
```

### **2 Install Dependencies**
```bash
pip install -r requirements.txt
```

---

## ğŸ“Š Train the Model
```bash
python train.py
```
âœ… This will train the model and save it in the `models/` folder.  
âœ… It will also display a **histogram of category distribution** to check for imbalances.

---

## ğŸŒ Start the API Server
```bash
uvicorn api:app --reload
```
API will be available at:  
ğŸ“ `http://127.0.0.1:8000`

### **ğŸ›  Health Check**
```bash
curl http://127.0.0.1:8000/ping
```
**Expected Response:**
```json
{"status": "alive"}
```

---

## ğŸ¯ API Endpoints
### **ğŸ”¹ Predict Expense Category**
#### **Request**
```bash
curl -X POST "http://127.0.0.1:8000/predict" \
     -H "Content-Type: application/json" \
     -d '{"description": "×§× ×™×ª×™ ××•×›×œ ×‘×¡×•×¤×¨"}'
```

#### **Response**
```json
{
  "category": "Groceries",
  "translated_description": "I bought food at the supermarket"
}
```

